﻿
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang chủ VietTravel</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <section class="hero">
        <img src="~/image/bg.jpg" alt="imgbody" style="width: -webkit-fill-available; height: 500px;" />
    </section>
    <div class="tab-container">
        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" data-target="#tab-tour">
                <i class="fas fa-map-marker-alt"></i> Tour trọn gói
            </div>
            <div class="tab" data-target="#tab-hotel">
                <i class="fas fa-hotel"></i> Khách sạn
            </div>
            @*<div class="tab" data-target="#tab-flight">
                <i class="fas fa-plane"></i> Vé máy bay
            </div>
            <div class="tab" data-target="#tab-combo">
                <i class="fas fa-suitcase"></i> Combo
            </div>*@
        </div>

        <!-- Tab Contents -->
        <div class="tab-content active" id="tab-tour">
            <form method="get" action="@Url.Action("SearchTour", "Home")">
                <div class="search-input">
                    <label for="tour-budget">Bạn muốn đi đâu?</label>
                    <select name="MaTinh" id="MaTinh">
                        <option value="">Chọn tỉnh thành</option>
                        @foreach (var item in ViewBag.TinhList)
                        {
                            <option value="@item.MaTinh">@item.TenTinh</option>
                        }
                    </select>
                </div>
                <div>
                    <label for="tour-budget">Ngân sách</label>
                    <select name="Budget" id="tour-budget">

                        <option value="">Chọn mức giá</option>
                        <option value="under-5m">Dưới 5 triệu</option>
                        <option value="5-10m">5-10 triệu</option>
                        <option value="above-10m">Trên 10 triệu</option>
                    </select>
                </div>
                <button type="submit" class="search-button">
                    <i style="text-align:center;" class="fas fa-search"></i>
                </button>
            </form>
        </div>

        <div class="tab-content" id="tab-hotel">
            <div class="search-options">
                <form action="/Home/Search" method="get" style=" display: flex; flex: 1;">
                    <div class="search-input">
                        <label for="hotel-location">Địa điểm *</label>
                        <select id="hotel-location" name="MaTinh" required>
                            <option value="">Chọn tỉnh thành</option>
                            @foreach (var tinh in ViewBag.TinhList)
                            {
                                <option value="@tinh.MaTinh">@tinh.TenTinh</option>
                            }
                        </select>
                    </div>

                    <div>
                        <label for="check-in">Nhận phòng</label>
                        <input type="date" id="check-in" name="checkIn">
                    </div>
                    <div>
                        <label for="check-out">Trả phòng</label>
                        <input type="date" id="check-out" name="checkOut">
                    </div>
                    @*<div>
                            <label for="guests">Loại phòng</label>
                            <select id="guests" name="guests">
                                <option value="">Chọn loại phòng</option>
                            </select>
                        </div>*@

                    <button class="search-button" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>
        </div>



        <div class="tab-content" id="tab-flight">
            <form id="hotel-search-form" method="GET" action="/Hotels/Search">
                <input type="text" id="hotel-location" name="location" placeholder="Nhập tên tỉnh thành" required>
                <input type="date" id="check-in" name="checkIn">
                <input type="date" id="check-out" name="checkOut">
                <input type="number" id="guests" name="guests" placeholder="Số khách">
                <button type="submit">Tìm kiếm</button>
            </form>


        </div>

        <div class="tab-content" id="tab-combo">
            <p>Combo </p>
        </div>
    </div>
    <div class="combo-section">
        <h2>COMBO GIÁ TỐT</h2>
        <hr>
        <p>Với sự hợp tác giảm giá ưu đãi cùng hệ thống đối tác lớn, chúng tôi tự tin mang đến cho quý khách combo vé máy bay và khách sạn với giá tốt nhất!</p>
    </div>

    <div class="combo-container">

        <div class="combo-card">
            <div class="info">
                <p><i class="fas fa-plane"></i> TP. HỒ CHÍ MINH → PHÚ QUỐC</p>
                <p><i class="fas fa-code"></i> Mã tour: FESGN8764-064-021024VU-H</p>
                <p><i class="fas fa-calendar-alt"></i> Khởi hành: 02/10/2024</p>
                <p><i class="fas fa-hotel"></i> Khách sạn: 3 sao</p>
                <p><i class="fas fa-plane"></i> Phương tiện: Máy bay</p>
                <p class="price">Giá từ: 2,590,000 ₫/khách</p>
            </div>
            <div class="image">
                <img src="~/image/phuquoc.jpg" alt="Phú Quốc" />
            </div>
        </div>


        <div class="combo-card">
            <div class="info">
                <p><i class="fas fa-plane"></i> TP. HỒ CHÍ MINH → QUY NHƠN</p>
                <p><i class="fas fa-code"></i> Mã tour: FESGN5901-075-031024VU-F-7</p>
                <p><i class="fas fa-calendar-alt"></i> Khởi hành: 03/10/2024</p>
                <p><i class="fas fa-hotel"></i> Khách sạn: 4 sao</p>
                <p><i class="fas fa-plane"></i> Phương tiện: Máy bay</p>
                <p class="price">Giá từ: 3,790,000 ₫ / khách</p>
            </div>
            <div class="image">
                <img src="~/image/quynhon.jpg" alt="Quy Nhơn" />
            </div>
        </div>

        <div class="combo-card">
            <div class="info">
                <p><i class="fas fa-plane"></i> TP. HỒ CHÍ MINH → PHÚ QUỐC</p>
                <p><i class="fas fa-code"></i> Mã tour: FESGN8769-005-031024VU-H-7</p>
                <p><i class="fas fa-calendar-alt"></i> Khởi hành: 03/10/2024</p>
                <p><i class="fas fa-hotel"></i> Khách sạn: 4 sao</p>
                <p><i class="fas fa-plane"></i> Phương tiện: Máy bay</p>
                <p class="price">Giá từ: 3,490,000 ₫ / khách</p>
            </div>
            <div class="image">
                <img src="~/image/phuquoc.jpg" alt="Phú Quốc" />
            </div>
        </div>

        <div class="combo-card">

            <div class="info">
                <p><i class="fas fa-plane"></i> TP. HỒ CHÍ MINH → CÔN ĐẢO</p>
                <p><i class="fas fa-code"></i> Mã tour: FESGN8232-018-051024VN-H-7</p>
                <p><i class="fas fa-calendar-alt"></i> Khởi hành: 05/10/2024</p>
                <p><i class="fas fa-hotel"></i> Khách sạn: 5 sao</p>
                <p><i class="fas fa-plane"></i> Phương tiện: Máy bay</p>
                <p class="price">Giá từ: 4,590,000 ₫ / khách</p>
            </div>
            <div class="image">
                <img src="~/image/condao.jpg" alt="Côn Đảo" />
            </div>
        </div>
    </div>
    <div class="containerlike" style="padding: 20px;">
        <div class="combo-section">
            <h2>ĐIỂM ĐẾN YÊU THÍCH</h2>
            <hr>
            <p>
                Hãy chọn một điểm đến du lịch nổi tiếng dưới đây để khám phá các chuyến đi độc quyền của chúng tôi với mức giá vô cùng hợp lý.
            </p>
        </div>
       
        <div class="tabs">
            <a class="active" href="#">
                Miền Bắc
            </a>
            <a href="#">
                Miền Trung
            </a>
            <a href="#">
                Miền Đông Nam Bộ
            </a>
            <a href="#">
                Miền Tây Nam Bộ
            </a>  
        </div>
        <div class="grid">
            <div class="grid-item">
                <img alt="A cruise ship in Quảng Ninh" height="400" src="https://storage.googleapis.com/a1aa/image/gw5u5kCZmbZYKxsJNs0LMtB9fDyixyY8Z6PVAMfqFdvzYfTnA.jpg" width="600" />
                <span>
                    QUẢNG NINH
                </span>
            </div>
            <div class="grid-item">
                <img alt="A scenic view of Hà Giang" height="400" src="https://storage.googleapis.com/a1aa/image/iph6AHXf2KTNcCFRGg7ZIdt2mzceg2JUQozqeK2lZjzjxenOB.jpg" width="600" />
                <span>
                    HÀ GIANG
                </span>
            </div>
            <div class="grid-item">
                <img alt="A mountain view in Lào Cai" height="400" src="https://storage.googleapis.com/a1aa/image/xdVD5AEZnEqLGVbB2n6IRiQ7Ypk0rrlxdk6EFMPlpM8L2f0JA.jpg" width="600" />
                <span>
                    LÀO CAI
                </span>
            </div>
            <div class="grid-item">
                <img alt="A river view in Ninh Bình" height="400" src="https://storage.googleapis.com/a1aa/image/ixfQAxThAGyyL6g6ffbNtuL89nqsJTtgHIZeYtLP0yRji9nOB.jpg" width="600" />
                <span>
                    NINH BÌNH
                </span>
            </div>
            <div class="grid-item">
                <img alt="Terraced fields in Yên Bái" height="400" src="https://storage.googleapis.com/a1aa/image/lkJ1C5fsJdzeq0wmcjJ2fUD47wNtHJzcbtY2miWzjuCTxenOB.jpg" width="600" />
                <span>
                    YÊN BÁI
                </span>
            </div>
            <div class="grid-item">
                <img alt="A scenic view of Cao Bằng" height="400" src="https://storage.googleapis.com/a1aa/image/Fp1EK9Mq5YILGFcoU3GqDUETi52G1UOmZVdHm06RDafWsfpTA.jpg" width="600" />
                <span>
                    CAO BẰNG
                </span>
            </div>
            <div class="grid-item">
                <img alt="A bay view in Hải Phòng" height="400" src="https://storage.googleapis.com/a1aa/image/YirfuB7awAzDc63au9BxzgyFEsX2x3GQQCpNyjvPZgdVsfpTA.jpg" width="600" />
                <span>
                    HẢI PHÒNG
                </span>
            </div>
            <div class="grid-item">
                <img alt="A woman in traditional dress in Hà Nội" height="400" src="https://storage.googleapis.com/a1aa/image/LqcDVs5AuSL8EpEHh3Ls0L5SppLc4HIrg8OueInokRIWsfpTA.jpg" width="600" />
                <span>
                    HÀ NỘI
                </span>
            </div>
            <div class="grid-item">
                <img alt="Tea fields in Sơn La" height="400" src="https://storage.googleapis.com/a1aa/image/7Bt6Z3wdZ1J0Hhi2vA2sUvKfipAYw2MAfJQhQmiccTFwYfTnA.jpg" width="600" />
                <span>
                    SƠN LA
                </span>
            </div>
        </div>
    </div>
    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
    <df-messenger intent="WELCOME"
                  chat-title="ChatAI"
                  agent-id="ba475651-a4aa-4762-afb2-525c2833f601"
                  language-code="en"></df-messenger>
    <script>
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

                this.classList.add('active');
                document.querySelector(this.dataset.target).classList.add('active');
            });
        });

        function fetchProvinces(inputId, suggestionsId) {
            let searchTerm = document.getElementById(inputId).value;

            if (searchTerm.length > 0) {
                $.ajax({
                    url: '/Tours/GetProvinces',
                    type: 'GET',
                    data: { searchTerm: searchTerm },
                    success: function (data) {
                        let suggestionList = document.getElementById(suggestionsId);
                        suggestionList.innerHTML = '';
                        data.forEach(province => {
                            let li = document.createElement('li');
                            li.textContent = province.Name;
                            li.onclick = function () {
                                document.getElementById(inputId).value = province.Name;
                                suggestionList.style.display = 'none';
                            };
                            suggestionList.appendChild(li);
                        });
                        suggestionList.style.display = 'block';
                    },
                    error: function (error) {
                        console.error('Error fetching provinces:', error);
                    }
                });
            } else {
                document.getElementById(suggestionsId).style.display = 'none';
            }
        }
        //// Lấy ra Loại phòng
        //function loadLoaiPhong() {
        //    $.ajax({
        //        url: '/LoaiPhongs/GetLoaiPhong',
        //        type: 'GET',
        //        success: function (data) {
        //            let guestsDropdown = document.getElementById('guests');
        //            guestsDropdown.innerHTML = '<option value="">Chọn loại phòng</option>';

        //            data.forEach(function (loaiphong) {
        //                let option = document.createElement('option');
        //                option.value = loaiphong.MaLoai;
        //                option.textContent = loaiphong.TenLoai;
        //                guestsDropdown.appendChild(option);
        //            });
        //        },
        //        error: function (error) {
        //            console.error('Error fetching room types:', error);
        //        }
        //    });
        //}

        //$(document).ready(function () {
        //    loadLoaiPhong();
        //});
        // tìm tour
        function searchTours() {
            const location = document.getElementById('tour-location').value; // Lấy tỉnh thành
            const budget = document.getElementById('tour-budget').value; // Lấy ngân sách

            $.ajax({
                url: '/Home/SearchTours',
                type: 'GET',
                data: {
                    maTinh: location,
                    budget: budget // Chỉ truyền tỉnh thành và ngân sách
                },
                success: function (data) {
                    $('#tour-results').html(data); // Hiển thị kết quả tìm kiếm
                },
                error: function (error) {
                    console.error('Error fetching tours:', error);
                }
            });
        }

    </script>
</body>
</html>

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 50px;
        padding: 10px;
        background-color: #f5f5f5;
    }

    /* Tab styles */
    .tab-container {
        transform: translateY(-30%);
/*        height: 200px;*/
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .tabs {
        display: flex;
        justify-content: space-between;
        border-bottom: 2px solid #eee;
    }

    .tab {
        flex: 1;
        text-align: center;
        padding: 15px;
        cursor: pointer;
        font-weight: bold;
    }

        .tab.active {
            color: #0056a3;
            border-bottom: 3px solid #0056a3;
        }

    .tab-content {
        display: none;
        padding: 20px;
    }

        .tab-content.active {
            display: block;
        }

    /*.search-options {
        margin-bottom: 20px;
    }

    .search-input input {
        width: 100%;
        height: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .search-options {
        display: flex;
        justify-content: space-around;
        align-items: center;
    }

        .search-options select, .search-options input {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

    .search-button {
        padding: 10px ;
        background-color: #0056a3;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;

    }

        .search-button:hover {
            background-color: #003b7a;
        }*/
    /* General Styles for Tab Contents */
    .tab-content {
        padding: 20px;
       /* background-color: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);*/
        margin-bottom: 20px; /* Khoảng cách giữa các tab */
    }

    form {
        display: flex;
        flex-direction: row; 
        gap: 15px; 
    }

    label {
        font-weight: bold;
        color: #333;
    }

    select,
    input[type="text"],
    input[type="date"],
    input[type="number"] {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
        color: #555;
    }

        select:focus,
        input:focus {
            border-color: #007bff;
            outline: none;
        }

    .search-button {
        padding: 10px 15px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
        display: flex; /* Để biểu tượng và văn bản căn giữa */
        align-items: center;
        justify-content: center;
    }


    .combo-container {
        display: flex;
        gap: 20px;
        justify-content: space-between;
    }

    .combo-card {
        position: relative;
        width: 350px;
        padding: 15px;
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #fff;
        overflow: hidden;
        transition: 0.3s ease-in-out;
    }

        .combo-card .info {
            text-align: justify;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: auto;
        }

            .combo-card .info p {
                margin: 5px 0;
                line-height: 1.5;
            }

        .combo-card .price {
            font-weight: bold;
            text-align: right;
        }

        .combo-card .info {
            transition: opacity 0.3s ease-in-out;
        }

        .combo-card .image {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: none;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.8);
        }

            .combo-card .image img {
                width: 100%;
                height: 100%;
            }

        .combo-card:hover .info {
            opacity: 0;
        }

        .combo-card:hover .image {
            display: flex;
        }

    .combo-section {
        padding: 20px;
        text-align: center;
        margin-bottom: 20px;
    }

        .combo-section h2 {
            color: #0056a3;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .combo-section hr {
            width: 50px;
            margin: 10px auto;
            border: 2px solid #0056a3;
        }

        .combo-section p {
            font-size: 16px;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
        }

    #province-suggestions, #hotel-province-suggestions {
        position: absolute;
        max-height: 150px;
        overflow-y: auto;
        width: 361px;
        background-color: white;
        border: 1px solid #ccc;
        border-radius: 5px;
        z-index: 1000;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        display: none;
    }

        #province-suggestions li, #hotel-province-suggestions li {
            padding: 10px;
            cursor: pointer;
            transition: background 0.3s;
        }

            #province-suggestions li:hover, #hotel-province-suggestions li:hover {
                background-color: #f0f0f0;
            }

    .combo-section {
        padding: 20px;
        text-align: center;
        margin-bottom: 20px;
    }

        .combo-section h2 {
            color: #0056a3;
            font-size: 24px;
            margin-bottom: 10px;
        }

        .combo-section hr {
            width: 50px;
            margin: 10px auto;
            border: 2px solid #0056a3;
        }

        .combo-section p {
            font-size: 16px;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
        }
/*
       like*/
    .tabs {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

        .tabs a {
            color: #0056b3;
            text-decoration: none;
            margin: 0 10px;
            font-size: 16px;
            padding: 10px 20px;
            border-bottom: 2px solid transparent;
        }

            .tabs a:hover, .tabs a.active {
                border-bottom: 2px solid #0056b3;
            }

    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 10px;
    }

    .grid-item {
        position: relative;
        overflow: hidden;
        border-radius: 10px;
    }

        .grid-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        .grid-item span {
            position: absolute;
            bottom: 10px;
            left: 10px;
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
</style>